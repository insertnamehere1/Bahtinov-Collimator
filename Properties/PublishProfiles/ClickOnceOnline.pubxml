<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PublishProtocol>ClickOnce</PublishProtocol>
    <Configuration>Release</Configuration>

    <!-- Online install -->
    <InstallFrom>Web</InstallFrom>
    <UpdateEnabled>True</UpdateEnabled>
    <UpdateMode>Foreground</UpdateMode>
    <UpdateRequired>False</UpdateRequired>

    <!-- Where ClickOnce points to for install and updates -->
    <InstallUrl>https://raw.githubusercontent.com/insertnamehere1/Bahtinov-Collimator/master/published/</InstallUrl>
    <UpdateUrl>https://raw.githubusercontent.com/insertnamehere1/Bahtinov-Collimator/master/published/</UpdateUrl>

    <!-- Bootstrapper -->
    <IsWebBootstrapper>True</IsWebBootstrapper>
    <BootstrapperEnabled>True</BootstrapperEnabled>

    <!-- Publish output (CI overrides PublishDir anyway, but keep something sane here) -->
    <PublishDir>bin\Release\app.publish\</PublishDir>

    <!-- Common -->
    <MapFileExtensions>True</MapFileExtensions>
    <OpenBrowserOnPublish>False</OpenBrowserOnPublish>
    <CreateWebPageOnPublish>False</CreateWebPageOnPublish>

    <!-- Manifests -->
    <GenerateManifests>True</GenerateManifests>

    <!-- ClickOnce signing should be handled by SignPath, so keep this False in CI -->
    <SignManifests>False</SignManifests>

    <!-- This is strong-name signing. Set False unless you intentionally use an SNK -->
    <SignAssembly>False</SignAssembly>

    <!-- Versioning: CI replaces ApplicationVersion in the csproj already -->
    <ApplicationRevision>0</ApplicationRevision>
    <IsRevisionIncremented>True</IsRevisionIncremented>
  </PropertyGroup>

	<!-- Prerequisites (adjust as needed; example shown) -->
	<ItemGroup>
		<BootstrapperPackage Include="Microsoft.Net.Framework.4.8.1">
			<Install>True</Install>
			<ProductName>.NET Framework 4.8.1</ProductName>
		</BootstrapperPackage>
	</ItemGroup>
</Project>
